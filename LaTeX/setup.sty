% Author - Jon Arnt KÃ¥rstad, NTNU IV-IMT

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{packages}[2020/09/15 Packages]
\usepackage[utf8]{inputenc} % Character encoding

% ------ Contents -------
% Appendices
% Bibliography & References
% Code input
% Flow charts
% Front matter
% General
% Image
% Language
% Main matter
% Mathematics
% Page setup
% -----------------------

% --- Appendices ---
\usepackage{appendix}
\newcommand{\addappendix}{   % Self-created command to insert appendix with predefined settings
    \newpage
    \appendix
    \section*{Appendix}   % Name of appendix
    \addcontentsline{toc}{section}{Appendix}  % Add appendix name to table of contents
    \renewcommand{\thesubsection}{\Alph{subsection}}    % Change numbering of section to upper-case letters.
}

% --- Bibliography & References---  
\usepackage[backend = biber, style = nature, urldate = short, maxcitenames = 3,]{biblatex}
\addbibresource{references.bib}
% \addbibresource{reference_2.bib} is possible if we want to add several reference files

\usepackage{caption}
% \usepackage{subcaption}
\usepackage[nottoc]{tocbibind}  % Includes Bibliography, Index, list of Listing etc. to table of contents
\newcommand{\source}[1]{\vspace{-4pt} \caption*{\hfill \footnotesize{Source: {#1}} } }   % Easily insert sources in images

% --- Code ---
\usepackage{minted} % Includes several programming languages and styles

% --- Flow Charts ---
% Keep in mind that you may customize these flow chart settings to fit your own preferences.
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
    minimum height=2em]

% --- Front matter ---
% Front matter is located before the table of contents, e.g. preface (Norsk: forord) and has separate settings
\newcommand{\frontmatter}{
    \pagenumbering{roman}   % Setting page numbering to lower-case roman
}
% Edit title of lists (uncomment below)
\renewcommand*\contentsname{Table of Contents}   % Rename table of contents
\renewcommand{\listfigurename}{List of Figures}   % Rename list of figures
\renewcommand{\listtablename}{List of Tables}  % Rename list of tables

% --- General ---
\usepackage[british]{babel}     % Defining UK English as language. This will among other things ensure that dates are displayed as 24/03/1997 rather than 03/24/1997 in the bibliography.
\usepackage{import}     % Enable importing of sections
\usepackage{csquotes}   % Provides international handling of quote marks. Especially useful for bibliography management using BibLaTeX
\usepackage{hyperref}   % Hyper-references, possible to change color
\hypersetup{    % Color of hyper-references
    colorlinks,
    citecolor = black,
    filecolor = black,
    linkcolor = black,
    urlcolor = black
}
% \usepackage{comment}    % Comment blocks of text
% \def\equationautorefname{Equation}  % Autoref-name for equations
% \def\figureautorefname{Figure}  % Autoref-name for figures
% \def\tableautorefname{Table}    % Autoref-name for tables
% \def\sectionautorefname{Section}    % Autoref-name for sections
% \def\subsectionautorefname{\sectionautorefname} % Autoref-name for subsections
% \def\subsubsectionautorefname{\sectionautorefname} % Autoref-name for subsubsections

% --- Image ---
%\usepackage{graphicx}   % Handle images
\usepackage{wrapfig}    % Wrap text around images
\usepackage{float}      % Force image location using "H"
\usepackage{url}
\urlstyle{sf}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}   % Ruler
\usepackage{subfigure}

% --- Language ---
\usepackage{siunitx}    % Enable SI units

% --- Main matter ---
% This is the main part of the paper.
\newcommand{\mainmatter}{
    \newpage
    \pagenumbering{arabic}  % Setting page numbering to normal integers
}

% --- Mathematics ---
\usepackage{bm}     % Bold text in math mode
\usepackage{amsmath}    %  Math formulas and improved typographical quality of their output
\usepackage{amssymb}    % Extended symbol collection
\usepackage{amsthm}     % Helps define theorem-like structures
% \usepackage{mathtools}  % Only helps only enumerate equations that are referred to in the text
% \mathtoolsset{showonlyrefs=true}  % Only refer to equations that are referred to in the text
\usepackage{physics}

% --- Page setup ---
\usepackage[a4paper, total={150mm, 245mm,footskip = 14mm}]{geometry}
\setlength{\parindent}{0em}
\setlength{\parskip}{0.8em}

% Customized header and footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.1ex}
\renewcommand{\footrulewidth}{0.1ex}
\fancyfoot[C]{\thepage}

%%% other useful stuff - added by me
\newcommand{\averg}[2]{\left \langle #1 \middle #2 \right \rangle}
\newcommand{\braketmatrix}[3]{\left \langle #1 \middle| #2 \middle| #3 \right \rangle}

%%% number equations with section number
\numberwithin{equation}{section}