\newpage
\section{Expectationvalue of $H_{eff}$} \label{app:expectationvalue}
It is used that $\langle H_0\rangle = E_0$ is the expectation-value in the groundstate of the unperturbed system and $f(x)$ is the Fermi-Dirac distribution. 
$\lambda, \lambda'$ are helicity indices and $k,k'$ are momenta.
In addition, $i,j$ are the positions of the impurity spins, which are introduced with the RKKY-interaction.

\begin{align} \label{app:effective_expectationvalue}
    \langle{H_{eff}}\rangle &= \langle H_0 \rangle - i \langle [S, H_{RKKY}] \rangle \\ \nonumber
     = E_0 - i \sum_{\substack{i,k,k'\\ \lambda, \lambda'}} \sum_{\substack{j, q, q'\\ \beta, \beta'} }
    &\langle \left[ A_{i,k,k', \lambda, \lambda'} d^{\dag}_{k,\lambda} d_{k', \lambda'} + B_{i,k,k', \lambda, \lambda'} d_{-k,\lambda} d^{\dag}_{-k', -\lambda'} + C_{i,k,k', \lambda, \lambda'} d_{-k,\lambda} d^{\dag}_{k', \lambda'} + D_{i,k,k', \lambda, \lambda'} d^{\dag}_{k,\lambda} d^{\dag}_{-k', \lambda'} , \right.
 \\ \nonumber &\left.    a_{j,q,q', \beta, \beta'} d^{\dag}_{q,\beta}d_{q', \beta'} + b_{j,q,q', \beta, \beta'} d_{-q,\beta}d^{\dag}_{-q', \beta'} + c_{j,q,q', \beta, \beta'} d_{-q,\beta}d_{q', \beta'} + d_{j,q,q', \beta, \beta'} d^{\dag}_{q,\beta}d^{\dag}_{-q', \beta'}\right] \rangle \\ \nonumber
  = E_0 -  \sum_{\substack{i,j,k,k'\\ \lambda, \lambda'}} &\left(  \frac{|\eta_{k,\lambda}|^2|\eta_{k',\lambda'}|^2}{E_{k',\lambda'} - E_{k,\lambda}}T_{i,k,k',\lambda, \lambda'}T_{j,k',k,\lambda', \lambda} (f(E_{k,\lambda}) - f(E_{k',\lambda'})) \right. \\ \nonumber 
  &\left. +  \frac{\eta^{\dag}_{k,\lambda}\nu_{-k,\lambda}\eta_{k',\lambda'}\nu^{\dag}_{-k',\lambda'}}{E_{k',\lambda'} - E_{k,\lambda}}T_{i,k,k',\lambda, \lambda'}T_{j,-k,-k',\lambda, \lambda'} (f(E_{k',\lambda'}) - f(E_{k,\lambda}))\right) \\ \nonumber
  +&\left( \frac{\nu_{k,\lambda}\nu^{\dag}_{k',\lambda'}\eta^{\dag}_{-k,\lambda}\eta_{-k',\lambda'}}{E_{-k, \lambda} - E_{-k',\lambda'}}T_{i,k,k',\lambda, \lambda'}T_{j,-k,-k',\lambda, \lambda'}(f(E_{-k,\lambda}) - f(E_{-k',\lambda})) \right.  \\ \nonumber 
  & \left. + \frac{|\nu_{k,\lambda}|^2|\nu_{k',\lambda'}|^2}{E_{-k, \lambda} - E_{-k',\lambda'}}T_{i,k,k',\lambda, \lambda'}T_{j,k', k,\lambda', \lambda} (f(E_{-k',\lambda'}) -f(E_{-k,\lambda}))\right) \\ \nonumber
  +&\left( - \frac{|\nu_{k,\lambda}|^2|\eta_{k',\lambda'}|^2}{E_{-k, \lambda} + E_{k',\lambda'}}T_{i,k,k',\lambda, \lambda'}T_{j,k', k,\lambda', \lambda} (1-f(E_{-k, \lambda}) - f(E_{k',\lambda'})) \right. \\ \nonumber
  &\left. - \frac{\nu_{k,\lambda}\nu^{\dag}_{-k',\lambda'}\eta^{\dag}_{-k,\lambda}\eta_{k',\lambda'}}{E_{-k, \lambda} + E_{k',\lambda'}}T_{i,k,k',\lambda, \lambda'}T_{j,-k, -k' ,\lambda, \lambda'} ((f(E_{k',\lambda'}) - 1 + f(E_{-k, \lambda}))\right) \\ \nonumber
  +& \left( \frac{|\eta_{k,\lambda}|^2|\nu_{k',\lambda'}|^2}{E_{-k', \lambda'} + E_{k,\lambda}}T_{i,k,k',\lambda, \lambda'}T_{j,k',k,\lambda', \lambda} (f(E_{k,\lambda}) - 1 + f(E_{-k',\lambda'})) \right. \\ \nonumber 
  &\left. + \frac{\eta^{\dag}_{k,\lambda}\nu_{-k,\lambda}\eta_{-k',\lambda'}\nu^{\dag}_{k',\lambda'}}{E_{-k', \lambda'} + E_{k,\lambda}}T_{i,k,k',\lambda, \lambda'}T_{j,-k, -k' ,\lambda, \lambda'} ( 1- f(E_{-k',\lambda'}) - f(E_{k,\lambda}))\right)
\end{align}

\subsection{spin structure}
The spin structure can be calculated in two steps.\newline
The first step is to take the product $T_{\chi} T_{\zeta}$, where $\chi, \zeta$ are two different sets of quantum numbers and is done here. \newline
The second step is to take the sum over the helicity indices, which require to take the entire terms into account and can be found in Section \ref{sec:eff_interaction_spin}. \newline
There are tow combinations of $T_{\chi} T_{\zeta}$ are the final products read for Rashba-SOC $\gamma = k_y\sigma_x - k_x \sigma_y$:

\begin{align} \label{app:expectationvalue_spinstruct_1}
   T_{\substack{i,k,k'\\ \lambda, \lambda'}}T_{\substack{j,k',k\\ \lambda',\lambda}} =& \left(\frac{J}{N}\right)^2 \frac{e^{i(k-k')(r_i - r_j)}}{4\lambda \lambda'} \\ \nonumber
    \times & \left[ \delta_{\lambda,\lambda'} \left( S_{i,y}S_{j,y}( 1- \frac{\gamma_{k',x} \gamma_{k,x} + \gamma_{k',y} \gamma_{k,y}}{|\gamma_k||\gamma_{k'}|}) + S_{i,x}S_{j,x}(\frac{\gamma_{k',x} \gamma_{k,x} + \gamma_{k',y} \gamma_{k,y}}{|\gamma_k||\gamma_{k'}|}+1) \right) \right. \\ \nonumber
    &\left. + \delta_{\lambda, -\lambda'} \left( 2 S_{i,z} S_{j,z} + S_{i,x}S_{j,x}(\frac{\gamma_{k',x} \gamma_{k,x} + \gamma_{k',y} \gamma_{k,y}}{|\gamma_k||\gamma_{k'}|}- 1)\right. \\ \nonumber
    & \left. - S_{i,y}S_{j,y}(\frac{\gamma_{k',x} \gamma_{k,x} + \gamma_{k',y} \gamma_{k,y}}{|\gamma_k||\gamma_{k'}|}+1) \right. \\ \nonumber
    & \left. +\lambda S_{i,z}S_{j,x} \left[ \frac{\gamma_{k',x} - i \gamma_{k',y}}{|\gamma_{k'}|}-\frac{\gamma_{k,x} + i \gamma_{k,y}}{|\gamma_k|} \right] + \lambda S_{i,x}S_{j,z} \left[ \frac{\gamma_{k,x} - i \gamma_{k,y}}{|\gamma_k|}-\frac{\gamma_{k',x} + i \gamma_{k',y}}{|\gamma_{k'}|} \right] \right. \right. \\ \nonumber
    & \left. \left.(iS_{i,x}S_{j,y}+iS_{i,y}S_{j,x}) \left[ \frac{-i(\gamma_{k',x} \gamma_{k,y} + \gamma_{k',y}\gamma_{k,x})}{|\gamma_k||\gamma_{k'}|} \right] \right) \right]
\end{align}
For the second combination of indices and Rashba-type SOC, the product becomes
\begin{align}\label{app:expectationvalue_spinstruct_2}
    T_{\substack{i,k,k'\\ \lambda, \lambda'}}T_{\substack{j,-k,-k'\\ \lambda,\lambda'}} =& \left(\frac{J}{N}\right)^2 \frac{e^{i(k-k')(r_i - r_j)}}{4\lambda \lambda'} \\ \nonumber
    \times & \left[ \delta_{\lambda,\lambda'} \left( - S_{i,x}S_{j,x}( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)^2 + \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)^2 + 2 \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)\left(\frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)) \right. \\ \nonumber
    &\left. + S_{i,y}S_{j,y}( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)^2 + \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)^2 - 2 \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)\left(\frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right))  \right. \right. \\ \nonumber
    &\left. \left. +i (S_{i,x}S_{j,y}+S_{i,y}S_{j,x}) ( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)^2 - \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)^2 ) \right)\right. \\ \nonumber
    &\left. + \delta_{\lambda, -\lambda'} \left( 4 S_{i,z} S_{j,z} \right. \right. \\ \nonumber
    &\left. \left. - (S_{i,x}S_{j,x} + S_{i,y}S_{j,y})( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)^2 + \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)^2 - 2 \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)\left(\frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)) \right. \\ \nonumber
    &\left. \left. +i (S_{i,x}S_{j,y}+S_{i,y}S_{j,x}) ( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right)^2 - \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right)^2 ) \right) \right. \\ \nonumber
    & \left. +2 \lambda \delta_{\lambda, -\lambda'} \left( (S_{i,z}S_{j,x}-S_{i,x}S_{j,z})( \left( \frac{\gamma_{k',x} + i\gamma_{k',y}}{|\gamma_{k'}|} \right) - \left( \frac{\gamma_{k,x} -i\gamma_{k,y}}{|\gamma_{k}|} \right) ) \right) \right) \right]
\end{align}
I used $i \leftrightarrow j$ for the $S_{i,z}S_{j,y}$ terms, so that they vanished in both cases.\newline
I used $k \leftrightarrow k'$ for the $S_{i,z}S_{j,x}$ terms of the first product, so that they got the form of a cross product.
For that I had to use the symmetry properties of the energy prefactor.\newline 

These products lead to a spin structure that has to be expressed with Heisenberg, DM and Ising terms. (xx,yy,zz, zx-xz, xy+yx)